---
hidden: true
title: "통계 집계 개요 (Statistics Aggregation Overview)"
description: "Notifly가 매시간 원시 이벤트를 Campaign 통계로 처리하는 방법."
---

## 집계란?

집계는 세고 정리하는 것과 같습니다. Campaign이 메시지를 보내면 많은 이벤트가 발생합니다 - 발송, 클릭, 오픈, 전환. 집계 시스템은 이러한 모든 이벤트를 수집하여 대시보드에서 쉽게 읽을 수 있는 숫자로 변환합니다.

## 왜 집계하나요?

- **속도**: 미리 계산된 숫자가 즉시 로드됨
- **규모**: 수백만 개의 이벤트 처리 가능
- **조직화**: Campaign, 변형, 시간, 사용자 속성별로 데이터 그룹화

## 4가지 주요 작업

Notifly는 매시간 4가지 유형의 통계 작업을 실행합니다:

| 작업 | 역할 | 출력 |
|------|------|------|
| [메시지 이벤트](/ko/knowledge-base/campaigns/aggregation/message-events) | 발송, 클릭, 오픈, 실패 횟수 계산 | `campaign_statistics` 테이블 |
| [전환 추적](/ko/knowledge-base/campaigns/aggregation/conversion-tracking) | 구매, 가입 및 기타 전환 추적 | `campaign_statistics` 테이블 |
| [Journey 통계](/ko/knowledge-base/journeys/aggregation) | User Journey 노드 성과 추적 | `user_journey_statistics` 테이블 |
| [Experiment 결과](/ko/knowledge-base/experiments/scorecard-calculation) | A/B 테스트 스코어카드 계산 | `scorecards` 테이블 |

## 작동 방식

### 처리 주기

1. **이벤트 발생** - 사용자가 메시지를 받고, 링크를 클릭하고, 구매함
2. **이벤트 저장** - 원시 이벤트가 S3 (데이터 레이크)로 이동
3. **시간별 작업 실행** - 집계가 새 이벤트를 처리
4. **결과 저장** - 집계된 통계가 PostgreSQL로 이동
5. **대시보드 표시** - 업데이트된 숫자가 표시됨

### 2계층 저장

| 계층 | 위치 | 목적 |
|------|------|------|
| 원시 이벤트 | S3 (데이터 레이크) | 장기 저장, 대체 쿼리 |
| 집계된 통계 | PostgreSQL | 빠른 대시보드 쿼리 |

### 타이밍

- 작업이 **매시간** 실행됨
- 각 작업이 이전 시간의 데이터를 처리
- `lastCollectedAt`이 마지막 성공적인 실행 완료 시점을 표시
- Experiment 스코어카드는 **3시간마다** 실행 (매시간 아님)

## 시간 처리

모든 타임스탬프는 내부적으로 UTC를 사용합니다:

| 상수 | 값 | 의미 |
|------|-----|------|
| 하루 | 86,400,000 ms | 날짜 경계에 사용 |
| 최대 전환 윈도우 | 14일 | 가장 긴 기여 기간 |

대시보드 표시는 한국 사용자를 위해 KST (UTC+9)를 사용합니다.

## 문제가 발생할 때

통계가 이상해 보이면 확인하세요:

1. **최근 데이터인가요?** - 집계를 위해 최대 1시간 대기
2. **캐시?** - 60초 기다린 후 새로고침
3. **시간대?** - 늦은 밤 이벤트는 다른 날에 표시될 수 있음

자세한 도움말은 [통계 불일치 문제 해결](/ko/knowledge-base/troubleshooting/statistics-discrepancies)을 참조하세요.

## 관련 문서

- [Campaign 통계](/ko/knowledge-base/campaigns/statistics) - 상위 수준 개요
- [메시지 이벤트](/ko/knowledge-base/campaigns/aggregation/message-events) - 발송, 클릭, 오픈 지표
- [전환 추적](/ko/knowledge-base/campaigns/aggregation/conversion-tracking) - 전환 기여
- [차원](/ko/knowledge-base/campaigns/aggregation/dimensions) - 사용자 속성별 그룹화
- [Journey 집계](/ko/knowledge-base/journeys/aggregation) - Journey 노드 통계
- [Experiment 스코어카드](/ko/knowledge-base/experiments/scorecard-calculation) - A/B 테스트 계산
