---
hidden: true
title: "진입과 종료 (Entry and Exit)"
description: "사용자가 User Journey에 들어오고 나가는 방법."
---

## 진입

### 진입 조건 유형

| 유형 | 사용자가 진입하는 방법 |
|------|------------------------|
| Scheduled | 특정 시간에 (일회성 또는 반복) |
| Event-driven | 특정 이벤트를 트리거할 때 |
| API-triggered | 서버가 Notifly에 시작을 알릴 때 |

### 예약 진입
- 특정 시간에 실행 (예: 매일 오전 9시)
- 일회성 또는 반복 가능
- 해당 시점에 Segment에 있는 사용자를 타겟팅
- 타이밍에 시간대 설정 사용

### 이벤트 기반 진입
- 사용자가 트리거 조건과 일치하는 행동을 함
- 이벤트 파라미터로 필터링 가능
- 이벤트 발생 시 즉시 진입
- Segment 조건도 일치해야 함

### API 트리거 진입
- 서버가 Notifly API를 호출
- 어떤 사용자가 진입해야 하는지 지정
- 복잡한 외부 로직에 유용
- 개인화를 위한 커스텀 데이터 포함 가능

## Segment 타겟팅

사용자가 진입하려면 Segment와 일치해야 합니다:
- Segment 유형: 조건, 코호트 또는 CSV
- 진입 시점에 확인됨
- 일치하지 않는 사용자는 진입하지 않음

## 재진입 정책

사용자가 다시 진입 자격을 얻으면 어떻게 될까요?

| 정책 | 동작 |
|------|------|
| Always | 이미 Journey에 있더라도 재진입 가능 |
| On Completion | 완료 후에만 재진입 가능 |
| Forbidden | 한 번 진입하면 절대 재진입 불가 |

### Always
- 동일 사용자의 여러 인스턴스가 실행될 수 있음
- 반복 가능한 경험에 유용
- 메시지 과부하에 주의

### On Completion
- 사용자가 먼저 완료(완료 또는 종료)해야 함
- 중복 경험 방지
- 가장 일반적인 설정

### Forbidden
- 한 번 진입하면 다시는 불가
- 일회성 온보딩에 좋음
- 영구 제외

## 종료

### 정상 종료 (Complete)
사용자가 완료 노드에 도달:
- Journey가 성공적으로 완료됨
- 모든 단계가 실행됨
- 사용자가 더 이상 Journey에 있지 않음

### 조건부 종료
사용자가 종료 조건을 트리거:
- Journey에 정의된 종료 이벤트
- 사용자가 즉시 빠져나옴
- 조건부 종료 노드로 이동
- 예: "사용자가 구매하면 종료"

### 비정상 종료
무언가 잘못됨:
- 이벤트 대기 타임아웃
- 처리 중 오류
- 메시지 발송 실패 및 재시도 없음
- 사용자가 비정상 종료 노드로 이동

## 종료 조건

사용자가 일찍 떠나야 하는 시점 정의:

| 필드 | 의미 |
|------|------|
| Exit conditions | 감시할 이벤트 이름/패턴 |
| Exit event filters | 추가 파라미터 필터 |

예: event = "purchase_completed" 이고 order_value > 10000이면 종료

## 타이밍

### 시작 시간
- `starts_in_seconds` - Journey가 사용자를 받기 시작하는 시점
- 반복 스케줄의 경우 배열일 수 있음

### 종료 시간
- `end_in_seconds` - Journey가 새 사용자 받기를 중단하는 시점
- 기존 사용자는 종료될 때까지 계속됨

### 간격
- `interval_in_seconds` - 반복 예약 Journey용
- 진입 스케줄 실행 빈도

## 테스트 모드

출시 전 테스트용:
- `testing: true` 설정
- `whitelist` 배열에 사용자 추가
- 화이트리스트 사용자만 진입 가능
- QA 테스트에 유용

## 관련 문서

- [User Journey](/ko/knowledge-base/journeys/index) - Journey 개요
- [User Journey 개념](/ko/knowledge-base/concepts/user-journeys) - 전체 개념
- [이벤트](/ko/knowledge-base/concepts/events) - 진입/종료 트리거
- [Segment](/ko/knowledge-base/concepts/segments) - 사용자 타겟팅
