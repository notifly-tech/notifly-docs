---
hidden: true
title: "대기 노드 (Delay Node)"
description: "대기 노드는 사용자가 다음 단계로 이동하기 전에 대기하게 합니다."
---

## 개요

대기 노드는 지정된 시간 동안 사용자의 Journey를 일시 중지합니다. 대기가 끝나면 사용자가 다음 노드로 계속 진행합니다. 메시지 간격을 두거나 사용자가 행동을 취할 때까지 기다리는 데 유용합니다.

## 작동 방식

1. 사용자가 대기 노드에 도달함
2. 시스템이 언제 계속할지 계산함
3. 사용자가 대기가 끝날 때까지 기다림
4. 사용자가 다음 노드로 진행함

## 대기 유형

| 유형 | 작동 방식 |
|------|-----------|
| Fixed delay | 특정 초 동안 대기 |
| Nearest future time | 특정 시간까지 대기 |
| Absolute time | 특정 날짜/시간까지 대기 |
| Dynamic delay | 이벤트 데이터를 기반으로 대기 |

## 고정 대기

설정된 시간 동안 대기:

| 필드 | 설명 |
|------|------|
| `delaySeconds` | 대기할 초 |

예시:
- 3600초 = 1시간
- 86400초 = 1일
- 604800초 = 1주

## 가장 가까운 미래 시간

특정 시간의 다음 발생까지 대기:

| 필드 | 설명 |
|------|------|
| `nearestFutureUTCTime.hours` | 시간 (0-23) |
| `nearestFutureUTCTime.minutes` | 분 (0-59) |

예: 다음 오전 9시 UTC까지 대기

현재 시간이 목표 전이면 오늘의 해당 시간까지 대기.
현재 시간이 목표 후이면 내일의 해당 시간까지 대기.

## 절대 시간

특정 시점까지 대기:

| 필드 | 설명 |
|------|------|
| `absoluteTime` | 밀리초 단위 Unix 타임스탬프 |

플래시 세일과 같은 시간에 민감한 Campaign에 유용합니다.

## 동적 대기

트리거 이벤트의 데이터를 기반으로 대기:

| 필드 | 설명 |
|------|------|
| `dynamicDelayConfig.enabled` | 동적 대기 활성화 |
| `dynamicDelayConfig.paramKey` | 대기를 포함하는 이벤트 파라미터 |
| `dynamicDelayConfig.useFallback` | 파라미터가 없으면 고정 대기 사용 |

예: 이벤트에 `wait_hours: 24`가 있으면 Journey가 24시간 대기.

## 노드 구조

| 필드 | 설명 |
|------|------|
| `type` | 항상 "delay" |
| `details.delaySeconds` | 고정 대기 시간 |
| `details.nearestFutureUTCTime` | 시간 기반 목표 |
| `details.absoluteTime` | 특정 타임스탬프 |
| `details.dynamicDelayConfig` | 동적 대기 설정 |
| `details.next` | 다음 노드 ID |

## 규칙

- 노드당 하나의 대기 유형만 사용해야 함
- 대기는 사용자가 노드에 진입할 때 계산됨
- 대기 중 사용자의 위치는 "waiting"
- Journey가 일시 중지되면 대기는 계속 카운트됨
- Journey가 중지되면 대기 중인 사용자가 비정상 종료될 수 있음

## 예외 사항

- 동적 대기 파라미터가 없고 대체도 없으면 동작이 다를 수 있음
- 매우 긴 대기는 Journey 설정에 따라 타임아웃될 수 있음
- 시간 기반 대기에 시간대 고려사항 적용

## 시간대와 대기

"가장 가까운 미래 시간" 대기를 사용할 때, 시간은 Journey의 시간대 설정에 따라 해석됩니다:

- **로컬 시간대**가 활성화된 경우, 대기는 각 사용자의 시간대를 기반으로 계산됨
- 시간은 구성 시점에 UTC로 변환됨
- 시간대 우선순위 및 설정에 대한 자세한 내용은 [로컬 시간대 발송](/ko/knowledge-base/concepts/local-timezone-delivery)을 참조하세요

## 사용 사례

| 사용 사례 | 대기 유형 |
|----------|-----------|
| 가입 후 1일 대기 | 고정 대기 |
| 내일 오전 9시에 발송 | 가장 가까운 미래 시간 |
| 특정 날짜에 발송 | 절대 시간 |
| 사용자별 커스텀 대기 | 동적 대기 |

## 관련 문서

- [메시지 노드](/ko/knowledge-base/journeys/nodes/message-node) - 메시지 발송
- [이벤트 분기](/ko/knowledge-base/journeys/nodes/event-branching) - 이벤트 대기
- [User Journey](/ko/knowledge-base/journeys/index) - Journey 개요
- [로컬 시간대 발송](/ko/knowledge-base/concepts/local-timezone-delivery) - 시간대가 시간 기반 대기에 미치는 영향
