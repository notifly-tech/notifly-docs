---
hidden: true
title: "메시지 노드 (Message Node)"
description: "메시지 노드는 사용자에게 메시지를 보냅니다."
---

## 개요

메시지 노드는 Journey에서 실제 커뮤니케이션이 일어나는 곳입니다. 특정 채널(푸시, 이메일 등)을 통해 메시지를 보내고, 발송 성공 또는 실패 여부에 따라 사용자를 다음 노드로 라우팅합니다.

## 작동 방식

1. 사용자가 메시지 노드에 도달함
2. 시스템이 메시지 발송을 시도함
3. 성공하면 사용자가 successNext 노드로 이동
4. 실패하면 사용자가 failureNext 노드로 이동

## 노드 구조

| 필드 | 설명 |
|------|------|
| `type` | 항상 "message" |
| `details.channel` | 사용할 채널 |
| `details.message` | 메시지 내용 |
| `details.channelMetadata` | 채널별 설정 |
| `details.successNext` | 발송 성공 시 다음 노드 |
| `details.failureNext` | 발송 실패 시 다음 노드 |

## 채널 옵션

11개 채널 모두 지원됩니다:
- push-notification
- web-push-notification
- email
- text-message
- kakao-alimtalk
- kakao-friendtalk
- kakao-brand-message
- line
- in-app-message
- in-web-message
- webhook

각 채널에 대한 자세한 내용은 [채널](/ko/knowledge-base/channels/index)을 참조하세요.

## 메시지 내용

내용은 채널에 따라 다릅니다. 채널별 문서를 참조하세요:
- [푸시 알림](/ko/knowledge-base/channels/push-notification)
- [이메일](/ko/knowledge-base/channels/email)
- [기타...](/ko/knowledge-base/channels/index)

## 발송 규칙

메시지 노드는 모든 발송 정책을 준수합니다:

| 설정 | 설명 |
|------|------|
| `deliveryForbiddenTiming` | 이 메시지의 발송 금지 시간 |
| `ignoreGlobalFrequencyCapping` | 글로벌 제한 우회 |
| `enableNotificationWebhook` | 발송 시 Webhook 호출 |

## 발송 금지 시간 (메시지 노드 내)

| 필드 | 설명 |
|------|------|
| `start.hours` | 시작 시간 (0-23) |
| `start.minutes` | 시작 분 (0-59) |
| `end.hours` | 종료 시간 |
| `end.minutes` | 종료 분 |
| `shouldDefer` | 윈도우가 끝날 때까지 메시지 보류 |

## 온사이트 메시지 (인앱 / 인웹)

인앱 및 인웹 메시지의 경우 추가 트리거 설정이 있습니다:

| 필드 | 설명 |
|------|------|
| `delaySeconds` | 트리거 허용 전 대기 |
| `triggerDurationSeconds` | 트리거 대기 시간 |
| `triggeringConditions` | 메시지를 표시하는 이벤트 |
| `triggeringEventFilters` | 트리거 이벤트 필터 |

메시지가 즉시 발송되지 않습니다 - 사용자가 다음을 할 때까지 대기합니다:
1. 앱/웹사이트 열기
2. 지정된 이벤트 트리거
3. 시간 윈도우 내에

## 성공 vs 실패 경로

### 성공 경로
다음 경우에 사용자가 `successNext`로 이동:
- 메시지가 발송됨 (또는 발송 대기열에 들어감)
- 건너뛰기 규칙이 차단하지 않음
- 발송 시스템이 수락함

### 실패 경로
다음 경우에 사용자가 `failureNext`로 이동:
- 메시지가 건너뛰어짐 (제외 사용자, 제한 등)
- 발송 실패 (유효하지 않은 토큰, 반송 등)
- 온사이트 메시지가 트리거 대기 중 타임아웃

## 규칙

- 메시지 노드당 하나의 채널
- 성공 및 실패 경로 모두 정의해야 함
- 모든 [발송 필터링](/ko/knowledge-base/rules/delivery-filtering) 적용
- 노드별로 글로벌 발송 빈도 제한 재정의 가능

## 관련 문서

- [채널](/ko/knowledge-base/channels/index) - 메시지 형식
- [대기 노드](/ko/knowledge-base/journeys/nodes/delay-node) - 메시지 간 대기
- [발송 필터링](/ko/knowledge-base/rules/delivery-filtering) - 메시지가 건너뛰어지는 경우
- [User Journey](/ko/knowledge-base/journeys/index) - Journey 개요
