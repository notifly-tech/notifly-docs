---
hidden: true
title: "Kakao Failures (카카오 장애)"
description: "카카오 메시지가 전달되지 않는 이유와 해결 방법입니다."
---

## 빠른 참조

### 카카오 채널 유형별

| 유형 | 일반적인 문제 |
|------|---------------|
| 알림톡 | 템플릿 미승인, 전화번호 매칭 안됨 |
| 친구톡 | 친구 아님, 차단됨 |
| 브랜드 메시지 | 템플릿 문제, 타겟팅 문제 |

---

## 알림톡 (Alimtalk) 문제

### 템플릿 미승인

**의미:** 메시지 템플릿이 카카오에서 승인되지 않았습니다.

**승인이 필요한 이유:**
- 알림톡은 사전 승인된 템플릿 필요
- 카카오가 모든 템플릿을 정책 준수 여부 검토
- 승인된 템플릿만 발송 가능

**확인 방법:**
- 템플릿 상태가 "대기중" 또는 "거절됨"으로 표시
- 오류 메시지에 "template not approved" 언급

**해결 방법:**
1. 카카오 승인을 위해 템플릿 제출
2. 검토 대기 (보통 영업일 1-3일)
3. 거절되면 수정 후 재제출
4. 승인된 템플릿만 사용

---

### 템플릿 불일치

**의미:** 메시지 콘텐츠가 승인된 템플릿과 일치하지 않습니다.

**일반적인 원인:**
- 변수 치환이 구조를 변경함
- 추가 텍스트가 추가됨
- 필수 섹션 누락

**해결 방법:**
- 메시지가 템플릿 형식과 정확히 일치하는지 확인
- 변수 치환이 구조를 깨지 않는지 확인
- 템플릿 placeholder 외부에 텍스트 추가하지 않기

---

### 전화번호 매칭 안됨

**의미:** 전화번호가 카카오 계정에 연결되어 있지 않습니다.

**알림톡 작동 방식:**
- 전화번호로 카카오 사용자 찾기
- 해당 번호로 카카오 계정이 없으면 메시지 실패

**처리 방법:**
- SMS failover 활성화 (알림톡 실패 시 SMS로 대체)
- 일부 사용자는 카카오가 없음을 인정
- 대신 카카오 친구 상태 수집 고려

---

### 비즈니스 채널 미설정

**의미:** 카카오 비즈니스 채널이 제대로 설정되지 않았습니다.

**요구사항:**
- 등록된 카카오 비즈니스 채널 (카카오 비즈니스 채널)
- 채널이 Notifly에 연결됨
- 적절한 API 자격증명

**확인 방법:**
- 카카오 비즈니스 콘솔에서 채널 확인
- Notifly 프로젝트 설정에서 자격증명 확인

---

## 친구톡 (Friendtalk) 문제

### 사용자가 친구가 아님

**의미:** 사용자가 카카오 채널을 친구로 추가하지 않았습니다.

**친구톡 작동 방식:**
- 채널의 친구인 사용자에게만 발송 가능
- 사용자가 능동적으로 채널을 추가해야 함

**확인 방법:**
- 채널과 사용자의 친구 상태
- 친구였다가 친구 삭제했는지 확인

**해결 방법:**
- 친구가 아닌 사람에게 친구톡 발송 불가
- 사용자에게 채널 추가 권장
- 친구가 아닌 사람에게는 정보성 메시지로 알림톡 사용

---

### 사용자가 채널 차단

**의미:** 사용자가 카카오 채널을 차단했습니다.

**상황:**
- 사용자가 능동적으로 메시지 수신 차단
- 기술적으로는 여전히 "친구"로 표시될 수 있음
- 메시지가 전달되지 않음

**처리 방법:**
- 사용자의 차단을 해제할 수 없음
- 사용자를 적절히 표시
- 친구톡 campaign에서 제외

---

### 친구 메시지 한도 초과

**의미:** 카카오의 친구 메시지 한도에 도달했습니다.

**카카오 한도:**
- 일/월별 메시지 수 제한
- 채널 등급에 따라 한도 상이
- 초과 = 메시지 거부됨

**해결 방법:**
- 카카오 채널의 현재 사용량 확인
- 필요시 채널 등급 업그레이드
- Campaign을 시간에 걸쳐 분산

---

## 브랜드 메시지 문제

### 템플릿 미승인

**의미:** 브랜드 메시지 템플릿이 카카오에서 승인되지 않았습니다.

**원인:**
- 광고성 내용 포함
- 카카오 가이드라인 미준수
- 이미지/동영상 규격 불일치

**해결 방법:**
1. 카카오 비즈니스 센터에서 반려 사유 확인
2. 가이드라인에 맞게 수정 후 재신청

---

### 타겟팅 문제

**의미:** 메시지 타겟팅이 카카오 요구사항과 맞지 않습니다.

**원인:**
- 마케팅 수신 동의 없는 사용자 타겟팅
- 채널 친구가 아닌 사용자에게 발송 시도
- Target type 설정 오류 (M/N/I)

**해결 방법:**
1. Target type 확인 (M: 마케팅 동의, N: 마케팅+친구, I: AND 조건)
2. 세그먼트에 마케팅 수신 동의 조건 추가

---

### 메시지 크기 제한 초과

**의미:** 메시지 내용이 카카오 허용 크기를 초과했습니다.

**원인:**
- 이미지/동영상 용량 초과
- 텍스트 길이 초과
- 버튼 개수 초과

**해결 방법:**
1. 채널 문서에서 제한 사항 확인
2. 콘텐츠 크기 축소

---

## 공통 문제 (모든 유형)

### 잘못된 발신자 채널

**의미:** 발신자 채널 ID가 유효하지 않거나 접근할 수 없습니다.

**확인 방법:**
- Campaign이 올바른 채널 ID를 참조하는가?
- 채널이 Notifly에 제대로 연결되어 있는가?
- 카카오에서 채널이 정지되지 않았는가?

**해결 방법:**
1. 카카오 비즈니스에서 채널 확인
2. 필요시 Notifly에서 채널 재연결
3. Campaign에서 올바른 채널 ID 사용

---

### API 자격증명 문제

**의미:** 카카오 API 연결이 실패합니다.

**증상:**
- 모든 카카오 메시지 실패
- 오류에 "authentication" 또는 "unauthorized" 언급

**해결 방법:**
1. 프로젝트 설정에서 API 자격증명 확인
2. 만료된 경우 API 키 재생성
3. 권한이 올바른지 확인

---

### 속도 제한

**의미:** 메시지가 너무 빠르게 많이 발송되었습니다.

**카카오 속도 제한:**
- 초당 요청 수 제한
- 일일 총 발송량 제한

**처리 방법:**
- 발송을 시간에 걸쳐 분산
- Notifly의 throttling 기능 사용
- 모니터링하고 한도 내 유지

---

## SMS Failover

### 개념

알림톡의 경우 SMS failover 설정 가능:
- 알림톡 실패 시 (사용자가 카카오에 없음)
- 대신 SMS로 메시지 발송
- 사용자에게 메시지 도달 보장

### 사용 시점

- 중요한 정보성 메시지
- 반드시 전달되어야 하는 트랜잭션 메시지
- 사용자가 카카오를 사용하는지 모를 때

### 설정

1. Campaign/템플릿 설정에서 SMS failover 활성화
2. 프로젝트에 SMS 발신자 설정
3. SMS 콘텐츠는 더 짧아야 할 수 있음

### Failover 문제

| 문제 | 원인 | 해결 |
|------|------|------|
| SMS 발송 안됨 | Failover 미활성화 | 설정에서 활성화 |
| SMS도 실패 | 잘못된 전화번호 | 전화번호 검증 |
| 잘못된 SMS 콘텐츠 | SMS 템플릿 미설정 | SMS 템플릿 설정 |

---

## 디버깅 체크리스트

### 알림톡

- [ ] 카카오에서 템플릿 승인됨?
- [ ] Campaign에서 템플릿 코드 올바름?
- [ ] 전화번호 유효함?
- [ ] 전화번호가 카카오 계정에 연결됨?
- [ ] 비즈니스 채널 설정됨?
- [ ] SMS failover 설정됨 (선택)?

### 친구톡

- [ ] 사용자가 채널의 친구?
- [ ] 사용자가 채널을 차단하지 않음?
- [ ] 친구 메시지 할당량 남음?
- [ ] 발신자 채널 ID 올바름?

### 모든 카카오

- [ ] API 자격증명 유효함?
- [ ] 채널 정지되지 않음?
- [ ] 속도 제한 내에 있음?
- [ ] 콘텐츠가 정책 준수함?

---

## 오류 메시지 참조

| 오류 | 의미 | 조치 |
|------|------|------|
| Template not found | 잘못된 템플릿 코드 | 템플릿 ID 확인 |
| Template not approved | 템플릿 대기중/거절됨 | 승인 대기 또는 재제출 |
| Not friend | 사용자가 친구 아님 | 친구톡 발송 불가 |
| User not found | 전화번호가 카카오에 연결 안됨 | SMS failover 사용 |
| Blocked | 사용자가 채널 차단 | 표시하고 제외 |
| Rate limited | 요청이 너무 많음 | 속도 줄이기 |
| Invalid channel | 채널 ID 잘못됨 | 설정 확인 |
| Unauthorized | API 자격증명 무효 | 자격증명 업데이트 |

---

## 카카오 채널 유형 비교

| 기능 | 알림톡 | 친구톡 | 브랜드 메시지 |
|------|--------|--------|---------------|
| 친구 필요 | 아니오 | 예 | 상이 |
| 템플릿 승인 | 예 | 아니오 | 예 |
| 사용 사례 | 정보성 | 마케팅 | 브랜딩 |
| 비용 | 메시지당 | 메시지당 | 메시지당 |
| SMS failover | 가능 | 해당 없음 | 해당 없음 |

---

## 관련 문서

- [카카오 알림톡](/ko/knowledge-base/channels/kakao-alimtalk) - 알림톡 채널
- [카카오 친구톡](/ko/knowledge-base/channels/kakao-friendtalk) - 친구톡 채널
- [카카오 브랜드 메시지](/ko/knowledge-base/channels/kakao-brand-message) - 브랜드 메시지 채널
- [채널 장애 인덱스](/ko/knowledge-base/troubleshooting/channel-failures/index) - 모든 채널 장애
- [SMS 장애](/ko/knowledge-base/troubleshooting/channel-failures/sms) - SMS failover 문제

---
*이 가이드로 카카오 메시지 발송 문제를 진단하고 해결하세요.*
